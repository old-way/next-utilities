{"version":3,"sources":["functions/execute-node-script.function.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AACrC,iCAA0B;AAE1B,2BAAkC,UAAkB,EAAE,GAAW;IAC7D,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACxC,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,UAAU,EAAE,GAAG,SAAS,EAAE,GAAG,CAAC,EAAE;QACzD,KAAK,EAAE,SAAS;KACnB,CAAC,CAAC;IACH,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;QACrB,IAAI,IAAI,KAAK,CAAC,EAAE;YACZ,OAAO,CAAC,GAAG,EAAE,CAAC;YACd,OAAO,CAAC,GAAG,CACP,eAAK,CAAC,GAAG,CACL,8DAA8D,CACjE,CACJ,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,eAAK,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,oBAAoB,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;YACxE,OAAO,CAAC,GAAG,EAAE,CAAC;YACd,OAAO;SACV;IACL,CAAC,CAAC,CAAC;IACH,OAAO,IAAI,CAAC;AAChB,CAAC;AAnBD,8CAmBC","file":"execute-node-script.function.js","sourcesContent":["import * as spawn from \"cross-spawn\";\nimport chalk from \"chalk\";\n\nexport function executeNodeScript(scriptPath: string, url: string) {\n    const extraArgs = process.argv.slice(2);\n    const child = spawn(\"node\", [scriptPath, ...extraArgs, url], {\n        stdio: \"inherit\",\n    });\n    child.on(\"close\", code => {\n        if (code !== 0) {\n            console.log();\n            console.log(\n                chalk.red(\n                    \"The script specified as BROWSER environment variable failed.\"\n                )\n            );\n            console.log(chalk.cyan(scriptPath) + \" exited with code \" + code + \".\");\n            console.log();\n            return;\n        }\n    });\n    return true;\n}\n"]}